<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="utf-8" />
<meta name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>SBS Team Project</title>
<!-- Favicon-->
<!-- Bootstrap icons-->
<link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    rel="stylesheet" type="text/css" />
<!-- Google fonts-->
<link
    href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic"
    rel="stylesheet" type="text/css" />
<!-- Core theme CSS (includes Bootstrap)-->
<link href="/css/styles.css" rel="stylesheet" />
<link href="/css/calendar.css" rel="stylesheet" />
<link href="/css/paging.css" rel="stylesheet" />
</head>
<body>
    <!-- Navigation-->
<nav class="navbar navbar-light bg-light static-top">
    <div class="container">
        <a class="navbar-brand" href="/">SBS</a> <a class="btn btn-primary"
            href="#signup">LIST</a>
           <a class="btn btn-primary" th:href="@{/team/teamConfig?teamId={teamId} (teamId = ${ team.teamId })}" th:if="${#authentication.name == team.leader}">관리하기</a> 
    </div>
</nav>
<!-- Masthead-->
<header class="masthead">
    <div class="row">
        <div class="col-sm">
            <div class="card m-10">
             <input id="id" class="form-control" th:value="${ team.teamId }" readonly style="display:none;"/>
                <div class="card-body col-auto" id="mypageListMain">
                    <div style="width: 800px; margin-left: auto; margin-right: auto; text-align: center;">
                                        <h3 class="card-title">공지사항</h3>
                    <div>
                        <a th:href="@{ /post/create?id={id} (id = ${ team.teamId }) }">게시글
                            작성</a>
                    </div>
                        <table id="noticePostTable"
                            class="table table-hover">
                        </table>
                    </div>
                    <div>
                        <ul id="noticePostul"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- Icons Grid-->
<div class="container position-relative"></div>

<section class="features-icons bg-light text-center">

    <div class="container">

        <div class="row">
            <div class="col-lg-4">
                <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
                    <div class="features-icons-icon d-flex">
                        <i class="bi-window m-auto text-primary"></i>
                        <i class="bi bi-newspaper m-auto text-success"></i>
                    </div>
                    <div>
                        <a class ="btn btn-primary" th:href="@{ /activity/create?id={id} (id = ${ team.teamId }) }">활동 등록</a>
                        <a class ="btn btn-success" th:href="@{ /post/create?id={id} (id = ${ team.teamId }) }">게시글 작성</a>
                    </div>
                    

                    <!-- calendar -->

    <!-- weekcalendar -->
    <input type="text" class="teamJoinDay" id="teamJoinDay" style="display: none;"/>
    <input type="text" class="activityId" id="activityId" style="display: none;">
    <hr width="800px" style="margin-left: auto; margin-right: auto; margin-bottom : 0; padding: 0;"/>
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <div class="calendar-layout">
                    <div class="calendar">
                        <div class="calendar-header">
                            <span class="calendar-yearmonth"></span>
                            <div class="calendar-controls">
                                <button type="button" class="calendar-prev">&lt;</button>
                                <button type="button" class="calendar-next">&gt;</button>
                                <button type="button" class="calendar-today">오늘</button>
                                <button type="button" class="calendar-reList">F5</button>
                            </div>
                            
                            <div class="calendar-views">
                            <!--
                <button type="button" class="calendar-view-week">주간</button>
                <button type="button" class="calendar-view-year">연간</button>
                <button type="button" class="calendar-view-month">월간</button>
                 -->
                            </div>
                        </div>
                        <div id="calendar"></div>
                    </div>
                </div>
                <div>
                    <h1 class="activityTitle">진행중인 활동</h1>
                </div>
                <div style="width: auto">
                    <hr width="800px"
                        style="margin-left: auto; margin-right: auto; margin-bottom : 0; padding: 0;">
                    <div
                        style="width: 800px; margin-left: auto; margin-right: auto;">
                        <table id="dynamicTable" class="table table-hover">
                        </table>
                    </div>
                    <div>
                        <ul id="progresspagingul"></ul>
                    </div>
                </div>
                <div>
                    <h1>종료된 활동</h1>
                </div>
                <hr width="800px"
                        style="margin-left: auto; margin-right: auto; margin-bottom : 0; padding: 0;">
                <div
                    style="width: 800px; margin-left: auto; margin-right: auto;">
                                    <table id="dynamicEndTable" class="table table-hover">
                                    </table>
                                </div>
                                <div>
                                    <ul id="pastpagingul"></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <hr/>
    
    <div class="modal fade" id="mylistModal"
                tabindex="-1" aria-labelledby="mylistModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5"
                                id="mylistModalLabel">참여확인</h1>
                            <button type="button"
                                class="btn-close"
                                data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <!-- 팀아이디 -->
                            <input type="hidden"
                                id="modalTeamId" readonly />
                            <!-- 사용자아이디 -->
                            <input type="hidden"
                                id="modalUserId" readonly />
                            <!-- 활동아이디 -->
                            <input type="hidden"
                                id="modalActivityId" readonly />
                            <!-- 사용자이름 -->
                            <input type="hidden"
                                id="modalNickName" readonly />    
                        </div>
                        <div class="modal-footer">
                            <button type="button"
                                class="btn btn-outline-secondary"
                                data-bs-dismiss="modal">취소</button>
                            <button type="button"
                                id="modalBtnSuccess"
                                class="btn btn-outline-success">확인</button>
                        </div>
                    </div>
                </div>
            </div>
</section>

<!-- Call to Action-->
<section class="call-to-action text-white text-center" id="signup">
    <div class="container position-relative">
        <div class="row justify-content-center">
            <p>밑단</p>
        </div>
    </div>
</section>
<!-- Footer-->
<footer class="footer bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 h-100 text-center text-lg-start my-auto">
                <ul class="list-inline mb-2">
                    <li class="list-inline-item"><a href="#!">검색</a></li>
                    <li class="list-inline-item">⋅</li>
                    <li class="list-inline-item"><a href="#!">마이페이지</a></li>
                    <li class="list-inline-item">⋅</li>
                    <li class="list-inline-item"><a href="#!">모임 참석</a></li>
                    <li class="list-inline-item">⋅</li>
                    <li class="list-inline-item"><a href="#!">공지 사항 Policy</a></li>
                </ul>
                <p class="text-muted small mb-4 mb-lg-0">&copy; Footer</p>
            </div>
            <div class="col-lg-6 h-100 text-center text-lg-end my-auto">
                <ul class="list-inline mb-0">
                    <li class="list-inline-item me-4"><a href="#!"><i
                            class="bi-facebook fs-3"></i></a></li>
                    <li class="list-inline-item me-4"><a href="#!"><i
                            class="bi-twitter fs-3"></i></a></li>
                    <li class="list-inline-item"><a href="#!"><i
                            class="bi-instagram fs-3"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<!-- - -->
<div class="popup_layer" id="popup_layer" style="display: none;">
<div class="popup_box">
    <div style="height: 10px; width: 375px; float: top;">
    <a href="javascript:closePop();">
    <img src="/assets/img/ic_close.svg" class="m_header-banner-close"
        width="30px" height="30px"></a>
</div>
<!--팝업 컨텐츠 영역-->
        <div class="popup_cont">
        </div>
    </div>
</div> 
<!-- Ajax axios JS-->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<!-- Jquery JS-->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<!-- Bootstrap core JS-->
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- kakao -->
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=abaecbd1f25256beda80cb6e2837cf2b&libraries=services"></script>
<!-- Calendar JS -->
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script th:inline="javascript" th:src="@{/js/calendar.js}"></script>
</body>
</html>
